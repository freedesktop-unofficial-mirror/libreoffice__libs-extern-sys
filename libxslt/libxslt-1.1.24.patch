--- misc/libxslt-1.1.24/ltmain.sh	Wed Aug 29 14:28:46 2007
+++ misc/build/libxslt-1.1.24/ltmain.sh	Wed Jun 25 13:06:05 2008
@@ -3234,9 +3234,9 @@
 	    revision="$number_revision"
 	    ;;
 	  freebsd-aout|freebsd-elf|sunos)
-	    current="$number_major"
-	    revision="$number_minor"
-	    age="0"
+	    current=`expr $number_major + $number_minor`
+	    age="$number_minor"
+	    revision="$number_revision"
 	    ;;
 	  irix|nonstopux)
 	    current=`expr $number_major + $number_minor`
@@ -3311,8 +3311,8 @@
 	  ;;
 
 	freebsd-elf)
-	  major=".$current"
-	  versuffix=".$current";
+	  major=.`expr $current - $age`
+	  versuffix="$major.$age.$revision"
 	  ;;
 
 	irix | nonstopux)
--- misc/libxslt-1.1.24/xslt-config.in	Wed Jan 17 14:18:26 2007
+++ misc/build/libxslt-1.1.24/xslt-config.in	Wed Jun 25 13:06:05 2008
@@ -1,10 +1,16 @@
 #! /bin/sh
 
-prefix=@prefix@
-exec_prefix=@exec_prefix@
+#prefix=@prefix@
+#exec_prefix=@exec_prefix@
+#exec_prefix_set=no
+#includedir=@includedir@
+#libdir=@libdir@
+
+prefix=${SOLARVERSION}/${INPATH}
+exec_prefix=${SOLARVERSION}/${INPATH}
 exec_prefix_set=no
-includedir=@includedir@
-libdir=@libdir@
+includedir=${SOLARVERSION}/${INPATH}/inc${UPDMINOREXT}/external
+libdir=${SOLARVERSION}/${INPATH}/lib${UPDMINOREXT}
 
 usage()
 {
@@ -89,7 +95,8 @@
     shift
 done
 
-the_libs="@XSLT_LIBDIR@ @XSLT_LIBS@"
+#the_libs="@XSLT_LIBDIR@ @XSLT_LIBS@"
+the_libs="-L${libdir} ${XSLTLIB} -lm"
 if test "$includedir" != "/usr/include"; then
     the_flags="$the_flags -I$includedir `@XML_CONFIG@ --cflags`"
 else
